import{d as x,r as d,w as R,o as m,c as I,a,b as O,e as J,f as j,g as q,n as S,u as z,p as A,h as D,i as U,j as P}from"./index.1aa50df1.js";import{_ as y}from"./plugin-vueexport-helper.2444895f.js";const w=24,X=1500,k=20,Y=10;function K(l){const t=l.getContext("2d"),o=l.height,s=o/2,_=l.width,n=_/2,e=[];let u=Date.now(),v=0,p;function g(c,r){c=(c-n)/n*3,r=(r-s)/s*-3;const i=c*c,f=r*r;return Math.pow(i+f-1,3)-i*(f*r)<0}function E(c,r){let i=0,f=r;do c/=f,f+=r,i+=c*Math.random();while(c>=1);return i}function L(){let c=n,r=s;const i=~~E(w,2.4);let f=(w+k-i)/2-Math.random()*(w+k-i),C=(w+k-i)/2-Math.random()*(w+k-i),b=c,$=r,M,B,H;const N=.05*i;return{draw(){M=~~(255*(c/_)),B=~~(255*(1-r/o)),H=~~(255-M),t.fillStyle="rgba("+M+","+B+","+H+","+N+")",t.beginPath(),t.arc(c,r,i,0,Math.PI*2,!0),t.closePath(),t.fill()},move(V){if(b+=f*V,$+=C*V,!g(b,$)){if(!g(b,r)){f*=-1;return}if(!g(c,$)){C*=-1;return}f=-1*C,C=-1*f;return}c=b,r=$}}}function F(){const c=e.length,r=X-c;for(let i=0;i<r&&i<Y;i++)e.push(L());v=Date.now(),p=u-v,p/=1e3,u=v,e.forEach(function(i){i.move(p)})}function T(){t.clearRect(0,0,_,o),e.forEach(function(c){c.draw()}),requestAnimationFrame(T)}setInterval(F,16),T()}const Q={class:"love-cover"},W=x({__name:"LoveCover",setup(l){const t=d();return R(()=>{const o=t.value;!o||K(o)}),(o,s)=>(m(),I("div",Q,[a("canvas",{ref_key:"canvasRef",ref:t,width:480,height:480},null,512)]))}});const Z=y(W,[["__scopeId","data-v-e6b56100"]]),h=l=>(A("data-v-d05c03a3"),l=l(),D(),l),ee={class:"wrap"},te=h(()=>a("p",null,"Hi birthday person,",-1)),se=h(()=>a("p",null,"Congratulations with your xxth birthday!",-1)),ne=h(()=>a("p",null," I hope you'll have a splendid day. Lorem ipsum dolor sit amet consectetur adipiscing elit. ",-1)),oe=h(()=>a("p",null," Maecenas sed elit id elit molestie fringilla. Vivamus urna elit, bibendum vel congue ullamcorper, interdum ut turpis. ",-1)),ae=h(()=>a("p",null," Praesent porta magna et scelerisque egestas. Donec ullamcorper dolor vitae tempor volutpat. ",-1)),ce=h(()=>a("p",{class:"signed"},"Micha\xEBl",-1)),ie={class:"wrap"},le=h(()=>a("h1",null,"Angie & Jay",-1)),re=h(()=>a("h1",null,"4th",-1)),ue=x({__name:"Card",emits:["show-gift"],setup(l,{emit:t}){const o=d(!1),s=d("fully"),_=O(()=>`${o.value?"open":"close"}-${s.value}`),n=v=>{s.value==="fully"&&(o.value=v)},e=()=>n(!0),u=()=>n(!1);return J(o,(v,p,g)=>{s.value="half";const E=window.setTimeout(()=>{s.value="fully"},1e3);g(()=>{window.clearTimeout(E)})}),(v,p)=>(m(),I("div",{class:S(["card",z(_)])},[a("div",{class:"content",onClick:u},[a("div",ee,[te,se,ne,oe,ae,ce,a("button",{onClick:p[0]||(p[0]=j(g=>t("show-gift"),["stop"]))},"\u9818\u53D6\u79AE\u7269")])]),a("div",{class:"cover",onClick:e},[a("div",ie,[q(Z),le,re])])],2))}});const _e=y(ue,[["__scopeId","data-v-d05c03a3"]]),G=l=>(A("data-v-be41f255"),l=l(),D(),l),de=G(()=>a("div",{class:"cover"},[a("div")],-1)),fe=G(()=>a("div",{class:"box"},null,-1)),ve=[de,fe],pe=x({__name:"Gift",emits:["opened"],setup(l,{emit:t}){const o=d(),s=d(0),_=[1500,600],n=()=>{const e=s.value,u=e+1;u<3?(s.value=u,window.setTimeout(n,_[e])):t("opened")};return(e,u)=>(m(),I("div",{ref_key:"boxRef",ref:o,class:S(["giftbox",{[`step-${s.value}`]:s.value}]),onClick:n},ve,2))}});const he=y(pe,[["__scopeId","data-v-be41f255"]]),me={class:"scratch"},ge={class:"canvas-container"},we=x({__name:"Scratch",setup(l){const t=d(),o=d(),s=d(!1),_=n=>{if(!s.value)return;const u=o.value.getContext("2d"),v=n.offsetX,p=n.offsetY;u.beginPath(),u.arc(v,p,20,0,Math.PI*2),u.fill()};return R(()=>{const n=t.value;if(!n)return;const e=n.getContext("2d");e.font="30px Microsoft JhengHei, PMingLiU, sans-serif",e.fillText("\u606D\u559C\u7372\u5F97\u4FE1\u7FA9\u5340\u8C6A\u5B85",100,180)}),R(()=>{const n=o.value;if(!n)return;const e=n.getContext("2d");e.fillStyle="silver",e.fillRect(0,0,450,380),e.globalCompositeOperation="destination-out"}),(n,e)=>(m(),I("div",me,[U(" \u5982\u4E2D\u734E\u8ACB\u627E\u79B9\u6770\u9818\u734E "),a("div",ge,[a("canvas",{ref_key:"bgCanvasRef",ref:t,width:300,height:300},null,512),a("canvas",{ref_key:"fgCanvasRef",ref:o,width:300,height:300,onPointerdown:e[0]||(e[0]=u=>s.value=!0),onPointerup:e[1]||(e[1]=u=>s.value=!1),onPointermove:_},null,544)])]))}});const xe=y(we,[["__scopeId","data-v-a8374f93"]]),ye=x({__name:"HomeView",setup(l){const t=d("card"),o=d(!1),s=d(!1),_=()=>{o.value=!0,window.setTimeout(()=>{t.value="gift",window.setTimeout(()=>{s.value=!0},100)},1e3)},n=()=>{t.value="scratch"};return(e,u)=>t.value==="card"?(m(),P(_e,{key:0,class:S({hidden:o.value}),onShowGift:_},null,8,["class"])):t.value==="gift"?(m(),P(he,{key:1,class:S({shown:s.value}),onOpened:n},null,8,["class"])):(m(),P(xe,{key:2}))}});const $e=y(ye,[["__scopeId","data-v-29675ffa"]]);export{$e as default};
