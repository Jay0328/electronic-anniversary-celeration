var N=Object.defineProperty;var O=(t,s,o)=>s in t?N(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o;var f=(t,s,o)=>(O(t,typeof s!="symbol"?s+"":s,o),o);import{d as h,r as d,c as T,w as W,o as q,a as c,b as l,e as n,t as S,n as M,f as J,p as D,g as j,h as z,i as x,j as I,k as K,l as _,u as B,m as Q,q as R,F as P,s as A,v as b,x as Y}from"./index-c14d1441.js";import{_ as v}from"./plugin-vueexport-helper-c27b6911.js";const w=t=>(D("data-v-10c6f8f5"),t=t(),j(),t),Z=w(()=>n("div",{class:"from top"},"Hi",-1)),ee=w(()=>n("div",{class:"from left"},"涵涵寶寶",-1)),se=w(()=>n("div",{class:"from right"},"恭喜你",-1)),te={class:"from bottom age-container"},ne=w(()=>n("div",{class:"digits one"},[n("div",{class:"one-vertical"},"1")],-1)),oe={class:"age"},ae={class:"tens digits"},ce={class:"digits"},ie=w(()=>n("div",{class:"from bottom"},"歲了",-1)),le=h({__name:"Intro",emits:["end"],setup(t,{emit:s}){const o=s,e=d("idle"),a=d(0),i=T(()=>Math.floor(a.value/10)),r=T(()=>a.value%10),g=d(0),p=()=>{e.value==="age-shine"&&(g.value++,g.value>=2&&H())};W(V=>{document.addEventListener("pointerdown",p),V(()=>document.removeEventListener("pointerdown",p))});const y=()=>{window.setTimeout(()=>{e.value="enter",window.setTimeout(m,1e3)},250)},$=()=>{a.value++},m=()=>{window.setTimeout(()=>{$(),a.value<28?m():k()},50)},k=()=>{window.setTimeout(C,250)},C=()=>{e.value="one-idle",window.setTimeout(()=>{e.value="one-shown",window.setTimeout(()=>{e.value="one-idle",window.setTimeout(X,250)},1e3)},400)},X=()=>{e.value="one-walking",window.setTimeout(G,2e3)},G=()=>{e.value="one-jumping",window.setTimeout(()=>{a.value=18,J(()=>{window.setTimeout(()=>{e.value="one-win",window.setTimeout(()=>{e.value="age-shine"},1e3)},200)})},3200)},H=()=>{e.value="shaked",window.setTimeout(()=>{e.value="falling",window.setTimeout(()=>{o("end")},1500)},2e3)};return q(y),(V,qe)=>(c(),l("div",{class:M(["intro",e.value])},[Z,ee,se,n("div",te,[ne,n("div",oe,[n("div",ae,S(i.value),1),n("div",ce,S(r.value),1)])]),ie],2))}});const _e=v(le,[["__scopeId","data-v-10c6f8f5"]]);const re={},de={class:"button"};function ue(t,s){return c(),l("button",de,[z(t.$slots,"default",{},void 0,!0)])}const L=v(re,[["render",ue],["__scopeId","data-v-8b3d8750"]]),u=t=>(D("data-v-e564d247"),t=t(),j(),t),pe={class:"card"},ve=u(()=>n("p",null,"嗨~我家尊絕不凡的好運喵喵",-1)),me=u(()=>n("p",null,"在此先感謝可愛的寶寶讓我有這個榮幸可以陪你度過5次的生日，這個大恩大德我會用一輩子來報答的",-1)),fe=u(()=>n("p",null,"今年因緣際會我們一起出了好多次國，累積了好多的回憶，希望今年的每趟旅程中你都能覺得快樂",-1)),he=u(()=>n("p",null," 只要你開心，我也會跟著很開心，覺得平常的努力工作都值得了XD，明年就再讓我牽著你的手一起到世界各地走走吧~ ",-1)),we=u(()=>n("p",null,[_("在此鄭重地宣佈"),n("br"),_("陳家女神 aka St.好運喵喵"),n("br"),_("今年也會是個健康快樂的小寶寶!!!")],-1)),ge=u(()=>n("p",null," 我把禮物放在了某個奇怪的地方，在遊玩的過程請記住各個照片並猜猜禮物在哪張圖片的後面吧~希望你會喜歡這個禮物~ ",-1)),ye=u(()=>n("p",{class:"signed"},"Jay, 2023-10-28",-1)),Ce=h({__name:"Card",emits:["play"],setup(t,{emit:s}){const o=s;return(e,a)=>(c(),l("div",pe,[ve,me,fe,he,we,ge,ye,x(L,{class:"play",onClick:a[0]||(a[0]=K(i=>o("play"),["stop"]))},{default:I(()=>[_("開始")]),_:1})]))}});const be=v(Ce,[["__scopeId","data-v-e564d247"]]),$e="/electronic-anniversary-celeration/assets/295483990_421076556736792_2462373687955662683_n-eb978b4b.jpg",ke="/electronic-anniversary-celeration/assets/339701144_244034334680163_7903994325469696033_n-1a406af8.jpg",Pe="/electronic-anniversary-celeration/assets/328334996_421766223473853_1216311456062318034_n-9c0bdcce.jpg",Te="/electronic-anniversary-celeration/assets/PXL_20201103_120756932-9f8cb9df.jpg",xe="/electronic-anniversary-celeration/assets/PXL_20201115_033520510-e0493026.jpg",Ie="/electronic-anniversary-celeration/assets/PXL_20220815_054850345-c95cf7cd.jpg",Le="/electronic-anniversary-celeration/assets/PXL_20231014_192807866-b0af2c0f.jpg",Ee="/electronic-anniversary-celeration/assets/WPC09681-bc09508f.jpg",F=[$e,ke,Pe,Te,xe,Ie,Le,Ee];var E=(t=>(t[t.IDLE=0]="IDLE",t[t.FLIPPED=1]="FLIPPED",t[t.COMPLETED=2]="COMPLETED",t))(E||{});class U{constructor(){f(this,"cardMatrix",this.shuffleCards());f(this,"isCompleted",!1);f(this,"flippable",!0);f(this,"flippedCard")}flipCard(s){if(!this.flippable)return;const{x:o,y:e}=s,a=this.cardMatrix[e][o];if(a.status===0)if(a.status=1,this.flippedCard){this.flippable=!1;const i=this.flippedCard,r=a;window.setTimeout(()=>this.checkComplete(i,r),600),this.flippedCard=void 0}else this.flippedCard=a}checkComplete(s,o){let e;s.imageUrl===o.imageUrl?e=2:e=0,s.status=e,o.status=e,e===2&&window.setTimeout(()=>{this.isCompleted=this.cardMatrix.every(a=>a.every(i=>i.status===2))},600),this.flippable=!0}shuffleCards(){const s=[...F,...F].map(e=>({imageUrl:e,sort:Math.random()})).sort((e,a)=>e.sort-a.sort).map(({imageUrl:e})=>({imageUrl:e,status:0})),o=Math.ceil(Math.sqrt(s.length));return s.reduce((e,a,i)=>(i%o===0&&e.push([]),e[e.length-1].push(a),e),[])}}const Me=t=>(D("data-v-6aabbb7e"),t=t(),j(),t),De={class:"inner"},je=Me(()=>n("div",{class:"front"},[n("div",{class:"candle"},[n("div",{class:"flame"})])],-1)),Xe={class:"back"},Ve=["src"],Se=h({__name:"MemoryCard",props:{imageUrl:{},status:{}},setup(t){return(s,o)=>(c(),l("div",{class:M(["card",{flipped:s.status===B(E).FLIPPED,completed:s.status===B(E).COMPLETED}])},[n("div",De,[je,n("div",Xe,[n("img",{src:s.imageUrl},null,8,Ve)])])],2))}});const Be=v(Se,[["__scopeId","data-v-6aabbb7e"]]),Ae={key:0,class:"game-end"},Fe={class:"actions"},Ue={key:0,class:"answer"},Ge={key:1,class:"card-grid"},He=h({__name:"MemoryGame",setup(t){Q(p=>({"2c7ead73":o.value}));const s=d(new U),o=T(()=>s.value.cardMatrix.length),e=d(!1),a=()=>{s.value=new U},i=()=>{e.value=!0},r=()=>{e.value=!1},g=(p,y)=>s.value.flipCard({x:p,y});return(p,y)=>s.value.isCompleted?(c(),l("div",Ae,[_(" 去尋找寶藏吧~ "),n("div",Fe,[x(L,{class:"replay",onClick:a},{default:I(()=>[_("沒看清楚？再看一次")]),_:1}),x(L,{class:"replay",onClick:i},{default:I(()=>[_("什麼不明所以的遊戲，直接告訴我＝＝")]),_:1})]),e.value?(c(),l("div",Ue,[n("span",{class:"hide-answer",onClick:r},"x"),_(" 睡覺的時候就會看到的照片 ")])):R("",!0)])):(c(),l("div",Ge,[(c(!0),l(P,null,A(s.value.cardMatrix,($,m)=>(c(),l(P,{key:`row-${m}`},[(c(!0),l(P,null,A($,(k,C)=>(c(),b(Be,Y({key:`column-${C}`},k,{onPointerdown:X=>g(C,m)}),null,16,["onPointerdown"]))),128))],64))),128))]))}});const Ne=v(He,[["__scopeId","data-v-6ca0387a"]]),Oe={class:"container"},We=h({__name:"HomeView",setup(t){const s=d("intro"),o=d("idle"),e=()=>{o.value="leaved",window.setTimeout(()=>{s.value="play"},1e3)},a=()=>{s.value="card",window.setTimeout(()=>{o.value="shown"},100)};return(i,r)=>(c(),l("div",Oe,[s.value==="intro"?(c(),b(_e,{key:0,onEnd:a})):s.value==="card"?(c(),b(be,{key:1,class:M(o.value),onPlay:e},null,8,["class"])):(c(),b(Ne,{key:2}))]))}});const Qe=v(We,[["__scopeId","data-v-997f62ec"]]);export{Qe as default};
