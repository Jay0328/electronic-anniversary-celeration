var O=Object.defineProperty;var q=(t,s,n)=>s in t?O(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var f=(t,s,n)=>(q(t,typeof s!="symbol"?s+"":s,n),n);import{d as h,r as _,c as x,w as J,o as z,a as i,b as l,e as a,t as B,n as D,f as W,p as L,g as j,h as X,i as I,j as E,k as K,l as r,u as A,m as Q,q as R,F as T,s as F,v as b,x as Y}from"./index-89fa9671.js";import{_ as m}from"./plugin-vueexport-helper-c27b6911.js";const w=t=>(L("data-v-10c6f8f5"),t=t(),j(),t),Z=w(()=>a("div",{class:"from top"},"Hi",-1)),ee=w(()=>a("div",{class:"from left"},"涵涵寶寶",-1)),se=w(()=>a("div",{class:"from right"},"恭喜你",-1)),te={class:"from bottom age-container"},ae=w(()=>a("div",{class:"digits one"},[a("div",{class:"one-vertical"},"1")],-1)),ne={class:"age"},oe={class:"tens digits"},ie={class:"digits"},ce=w(()=>a("div",{class:"from bottom"},"歲了",-1)),le=h({__name:"Intro",emits:["end"],setup(t,{emit:s}){const n=s,e=_("idle"),o=_(0),c=x(()=>Math.floor(o.value/10)),d=x(()=>o.value%10),g=_(0),p=()=>{e.value==="age-shine"&&(g.value++,g.value>=2&&N())};J(S=>{document.addEventListener("pointerdown",p),S(()=>document.removeEventListener("pointerdown",p))});const y=()=>{window.setTimeout(()=>{e.value="enter",window.setTimeout(v,1e3)},250)},$=()=>{o.value++},v=()=>{window.setTimeout(()=>{$(),o.value<28?v():k()},50)},k=()=>{window.setTimeout(C,250)},C=()=>{e.value="one-idle",window.setTimeout(()=>{e.value="one-shown",window.setTimeout(()=>{e.value="one-idle",window.setTimeout(V,250)},1e3)},400)},V=()=>{e.value="one-walking",window.setTimeout(H,2e3)},H=()=>{e.value="one-jumping",window.setTimeout(()=>{o.value=18,W(()=>{window.setTimeout(()=>{e.value="one-win",window.setTimeout(()=>{e.value="age-shine"},1e3)},200)})},3200)},N=()=>{e.value="shaked",window.setTimeout(()=>{e.value="falling",window.setTimeout(()=>{n("end")},1500)},2e3)};return z(y),(S,ze)=>(i(),l("div",{class:D(["intro",e.value])},[Z,ee,se,a("div",te,[ae,a("div",ne,[a("div",oe,B(c.value),1),a("div",ie,B(d.value),1)])]),ce],2))}});const re=m(le,[["__scopeId","data-v-10c6f8f5"]]);const de={},_e={class:"button"};function ue(t,s){return i(),l("button",_e,[X(t.$slots,"default",{},void 0,!0)])}const M=m(de,[["render",ue],["__scopeId","data-v-8b3d8750"]]),u=t=>(L("data-v-e564d247"),t=t(),j(),t),pe={class:"card"},me=u(()=>a("p",null,"嗨~我家尊絕不凡的好運喵喵",-1)),ve=u(()=>a("p",null,"在此先感謝可愛的寶寶讓我有這個榮幸可以陪你度過5次的生日，這個大恩大德我會用一輩子來報答的",-1)),fe=u(()=>a("p",null,"今年因緣際會我們一起出了好多次國，累積了好多的回憶，希望今年的每趟旅程中你都能覺得快樂",-1)),he=u(()=>a("p",null," 只要你開心，我也會跟著很開心，覺得平常的努力工作都值得了XD，明年就再讓我牽著你的手一起到世界各地走走吧~ ",-1)),we=u(()=>a("p",null,[r("在此鄭重地宣佈"),a("br"),r("陳家女神 aka St.好運喵喵"),a("br"),r("今年也會是個健康快樂的小寶寶!!!")],-1)),ge=u(()=>a("p",null," 我把禮物放在了某個奇怪的地方，在遊玩的過程請記住各個照片並猜猜禮物在哪張圖片的後面吧~希望你會喜歡這個禮物~ ",-1)),ye=u(()=>a("p",{class:"signed"},"Jay, 2023-10-28",-1)),Ce=h({__name:"Card",emits:["play"],setup(t,{emit:s}){const n=s;return(e,o)=>(i(),l("div",pe,[me,ve,fe,he,we,ge,ye,I(M,{class:"play",onClick:o[0]||(o[0]=K(c=>n("play"),["stop"]))},{default:E(()=>[r("開始")]),_:1})]))}});const be=m(Ce,[["__scopeId","data-v-e564d247"]]),$e="/electronic-anniversary-celeration/assets/image1-eb978b4b.jpg",ke="/electronic-anniversary-celeration/assets/image2-9c0bdcce.jpg",Te="/electronic-anniversary-celeration/assets/image3-1a406af8.jpg",xe="/electronic-anniversary-celeration/assets/image4-9f8cb9df.jpg",Ie="/electronic-anniversary-celeration/assets/image5-e0493026.jpg",Ee="/electronic-anniversary-celeration/assets/image6-c95cf7cd.jpg",Me="/electronic-anniversary-celeration/assets/image7-b0af2c0f.jpg",Pe="/electronic-anniversary-celeration/assets/image8-bc09508f.jpg",U=[$e,ke,Te,xe,Ie,Ee,Me,Pe];var P=(t=>(t[t.IDLE=0]="IDLE",t[t.FLIPPED=1]="FLIPPED",t[t.COMPLETED=2]="COMPLETED",t))(P||{});class G{constructor(){f(this,"cardMatrix",this.shuffleCards());f(this,"isCompleted",!1);f(this,"flippable",!0);f(this,"flippedCard")}flipCard(s){if(!this.flippable)return;const{x:n,y:e}=s,o=this.cardMatrix[e][n];if(o.status===0)if(o.status=1,this.flippedCard){this.flippable=!1;const c=this.flippedCard,d=o;window.setTimeout(()=>this.checkComplete(c,d),600),this.flippedCard=void 0}else this.flippedCard=o}checkComplete(s,n){let e;s.imageUrl===n.imageUrl?e=2:e=0,s.status=e,n.status=e,e===2&&window.setTimeout(()=>{this.isCompleted=this.cardMatrix.every(o=>o.every(c=>c.status===2))},600),this.flippable=!0}shuffleCards(){const s=[...U,...U].map(e=>({imageUrl:e,sort:Math.random()})).sort((e,o)=>e.sort-o.sort).map(({imageUrl:e})=>({imageUrl:e,status:0})),n=Math.ceil(Math.sqrt(s.length));return s.reduce((e,o,c)=>(c%n===0&&e.push([]),e[e.length-1].push(o),e),[])}}const De=t=>(L("data-v-6aabbb7e"),t=t(),j(),t),Le={class:"inner"},je=De(()=>a("div",{class:"front"},[a("div",{class:"candle"},[a("div",{class:"flame"})])],-1)),Ve={class:"back"},Se=["src"],Be=h({__name:"MemoryCard",props:{imageUrl:{},status:{}},setup(t){return(s,n)=>(i(),l("div",{class:D(["card",{flipped:s.status===A(P).FLIPPED,completed:s.status===A(P).COMPLETED}])},[a("div",Le,[je,a("div",Ve,[a("img",{src:s.imageUrl},null,8,Se)])])],2))}});const Ae=m(Be,[["__scopeId","data-v-6aabbb7e"]]),Fe={key:0,class:"game-end"},Ue={class:"actions"},Ge={key:0,class:"answer"},He={key:1,class:"card-grid"},Ne=h({__name:"MemoryGame",setup(t){Q(p=>({"2c7ead73":n.value}));const s=_(new G),n=x(()=>s.value.cardMatrix.length),e=_(!1),o=()=>{s.value=new G},c=()=>{e.value=!0},d=()=>{e.value=!1},g=(p,y)=>s.value.flipCard({x:p,y});return(p,y)=>s.value.isCompleted?(i(),l("div",Fe,[r(" 去尋找寶藏吧~ "),a("div",Ue,[I(M,{class:"replay",onClick:o},{default:E(()=>[r("沒看清楚？再看一次")]),_:1}),I(M,{class:"replay",onClick:c},{default:E(()=>[r("什麼不明所以的遊戲，直接告訴我＝＝")]),_:1})]),e.value?(i(),l("div",Ge,[a("span",{class:"hide-answer",onClick:d},"x"),r(" 睡覺的時候就會看到的照片 ")])):R("",!0)])):(i(),l("div",He,[(i(!0),l(T,null,F(s.value.cardMatrix,($,v)=>(i(),l(T,{key:`row-${v}`},[(i(!0),l(T,null,F($,(k,C)=>(i(),b(Ae,Y({key:`column-${C}`},k,{onPointerdown:V=>g(C,v)}),null,16,["onPointerdown"]))),128))],64))),128))]))}});const Oe=m(Ne,[["__scopeId","data-v-6ca0387a"]]),qe={class:"container"},Je=h({__name:"HomeView",setup(t){const s=_("intro"),n=_("idle"),e=()=>{n.value="leaved",window.setTimeout(()=>{s.value="play"},1e3)},o=()=>{s.value="card",window.setTimeout(()=>{n.value="shown"},100)};return(c,d)=>(i(),l("div",qe,[s.value==="intro"?(i(),b(re,{key:0,onEnd:o})):s.value==="card"?(i(),b(be,{key:1,class:D(n.value),onPlay:e},null,8,["class"])):(i(),b(Oe,{key:2}))]))}});const Qe=m(Je,[["__scopeId","data-v-997f62ec"]]);export{Qe as default};
